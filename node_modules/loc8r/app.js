
const express = require("express");
const port = 3000;
const app = express();
const userRouter = require("./app_server/routes/userRouter.js");
const homeRouter = require("./app_server/routes/homeRouter");



 
//const userRouter = express.Router();
//const homeRouter = express.Router();
app.use("/users",userRouter);

app.use("/",homeRouter);
//var routes = require('./app_server/routers/index');

/*
// определяем маршруты и их обработчики внутри роутера userRouter
userRouter.use("/create", userController.addUser);
userRouter.use("/", userController.getUsers);
app.use("/users", userRouter);

// определяем маршруты и их обработчики внутри роутера homeRouter
homeRouter.get("/about", homeController.about);
homeRouter.get("/", homeController.index);
app.use("/", homeRouter);

*/

/*

app.use(function(req,res,next){
    console.log("Middleware 1");
    next();
})

app.use(function(req,res,next){
    console.log("Middleware 2");
    next();
})


app.use("/about",function(req,res,next){
    console.log("Middleware 3");
    next();
})


//команда get реализует обработчик запрошенных url
app.get('/',function(req,res){
    res.send('<a href="/about">hello world!!</a>');
});

app.get('/about',(req,res) =>{
    res.send('<h1>О сайте</h1>');
});

app.get('/',function(req,res){
    res.sendFile(__dirname + "/index.html")
});
*/
app.use('/home',(req,res) =>{
    //res.sendStatus(404);
    res.status(404).send('Страница не найдена!');
})


//Разворачиваем прилодение на порту:
app.listen(port,function(){
    console.log(`running on ${port}`);
});

